--- a/ext/standard/dns.c
+++ b/ext/standard/dns.c
@@ -329,6 +329,12 @@ PHP_FUNCTION(gethostbyname)
 /* }}} */

+/* iOS does not expose BSD resolver internals (HEADER, C_IN, etc.) even with feature test macros.
+   Disable full DNS functions on iOS to avoid compilation errors. */
+#if defined(__APPLE__) && (TARGET_OS_IOS || TARGET_OS_SIMULATOR)
+#undef HAVE_FULL_DNS_FUNCS
+#endif
+
 #if HAVE_FULL_DNS_FUNCS

 /* {{{ php_dns_search
