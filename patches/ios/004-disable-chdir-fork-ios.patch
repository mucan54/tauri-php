--- a/ext/standard/proc_open.c
+++ b/ext/standard/proc_open.c
@@ -1373,7 +1373,11 @@ PHP_FUNCTION(proc_open)
 		}

 		if (cwd) {
+#ifndef __APPLE__  /* chdir in fork section */
 			php_ignore_value(chdir(cwd));
+#else
+			(void)cwd;  /* Suppress unused warning on iOS */
+#endif
 		}

 		if (argv) {

